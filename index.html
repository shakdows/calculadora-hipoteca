<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Calculadora de Hipoteca - Nattiva</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Manifest -->
  <link rel="manifest" href="manifest.webmanifest">

  <!-- Iconos -->
  <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
  <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">

  <meta name="theme-color" content="#020617">
</head>

<body style="
  margin:0;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#020617;
  color:#e5e7eb;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
">

  <div style="text-align:center; width:min(420px, 92vw);">

    <img src="icon.png"
         alt="Nattiva Inmobiliaria"
         style="height:120px; display:block; margin:0 auto 16px; object-fit:contain;">

    <h1 style="margin:8px 0 16px; font-size:18px;">
      Calculadora de crédito hipotecario
    </h1>

    <!-- CONTRASEÑA -->
    <div id="pinView">

      <input
        id="pinInput"
        type="password"
        inputmode="text"
        autocomplete="current-password"
        autocapitalize="off"
        spellcheck="false"
        placeholder="Ingresa la contraseña"
        style="
          width:100%;
          box-sizing:border-box;
          padding:14px;
          border-radius:12px;
          border:1px solid rgba(255,255,255,0.18);
          background:#0b1220;
          color:#e5e7eb;
          font-size:16px;
          outline:none;
        "
      />

      <button
        id="pinBtn"
        style="
          width:100%;
          margin-top:12px;
          padding:12px;
          border-radius:9999px;
          border:none;
          background:#f97316;
          color:white;
          font-weight:600;
          font-size:15px;
          cursor:pointer;
        ">
        Entrar
      </button>

      <div
        id="pinErr"
        style="min-height:20px; margin-top:10px; font-size:13px; color:#fca5a5;">
      </div>

    </div>

    <!-- ABRIR CALCULADORA -->
    <div id="openView" style="display:none; margin-top:18px;">
      <button
        onclick="window.location.href='https://shakdows.app.n8n.cloud/form/3b8d44ae-ffea-48f6-90c1-fb9943471656';"
        style="
          width:100%;
          padding:12px;
          border-radius:9999px;
          border:none;
          background:#f97316;
          color:white;
          font-weight:600;
          font-size:15px;
          cursor:pointer;
        ">
        Abrir calculadora
      </button>
    </div>

  </div>

<script>
  // =========================
  // CONFIGURACIÓN
  // =========================
  const PIN_CORRECTO = "Nattiva2025";

  // =========================
  // ELEMENTOS
  // =========================
  const pinView = document.getElementById("pinView");
  const openView = document.getElementById("openView");
  const pinInput = document.getElementById("pinInput");
  const pinBtn = document.getElementById("pinBtn");
  const pinErr = document.getElementById("pinErr");

  // =========================
  // INICIO (SIEMPRE PIN)
  // =========================
  function showPin() {
    pinView.style.display = "block";
    openView.style.display = "none";
    pinInput.value = "";
    pinErr.textContent = "";
    setTimeout(() => pinInput.focus(), 150);
  }

  function showOpen() {
    pinView.style.display = "none";
    openView.style.display = "block";
  }

  showPin();

  // =========================
  // VALIDACIÓN
  // =========================
  function validatePin() {
    const pin = pinInput.value.trim();
    pinErr.textContent = "";

    if (!pin) {
      pinErr.textContent = "Ingresa la contraseña.";
      return;
    }

    if (pin !== PIN_CORRECTO) {
      pinErr.textContent = "Contraseña incorrecta.";
      return;
    }

    showOpen();
  }

  pinBtn.addEventListener("click", validatePin);

  pinInput.addEventListener("keydown", (e) => {
    if (e.key === "Enter") validatePin();
  });
</script>

</body>
</html>
